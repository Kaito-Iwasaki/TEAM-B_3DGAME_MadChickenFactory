//=====================================================================
//
// テクスチャ読み込み処理 [texture.cpp]
// Author : Kaito Iwasaki
// 
//=====================================================================

//*********************************************************************
// 
// ***** インクルードファイル *****
// 
//*********************************************************************
#include "texture.h"

//*********************************************************************
// 
// ***** マクロ定義 *****
// 
//*********************************************************************


//*********************************************************************
// 
// ***** 構造体 *****
// 
//*********************************************************************


//*********************************************************************
// 
// ***** 列挙型 *****
// 
//*********************************************************************


//*********************************************************************
// 
// ***** プロトタイプ宣言 *****
// 
//*********************************************************************


//*********************************************************************
// 
// ***** グローバル変数 *****
// 
//*********************************************************************
LPDIRECT3DTEXTURE9 g_apTexture[MAX_LOADABLE_TEXTURE];


//=====================================================================
// テクスチャ読み込み処理（インデックス）
//=====================================================================
void LoadTexture(const char* pFilename, int nIdx)
{
	LPDIRECT3DDEVICE9 pDevice = GetDevice();

	if (pFilename != NULL)
	{
		// テクスチャの読み込み
		D3DXCreateTextureFromFile(pDevice, pFilename, &g_apTexture[nIdx]);
	}
}

//=====================================================================
// テクスチャ読み込み処理（ポインタ）
//=====================================================================
void LoadTexture(const char* pFilename, LPDIRECT3DTEXTURE9 pBuffer)
{
	LPDIRECT3DDEVICE9 pDevice = GetDevice();

	if (pFilename != NULL)
	{
		// テクスチャの読み込み
		D3DXCreateTextureFromFile(pDevice, pFilename, &pBuffer);
	}
}

//=====================================================================
// 終了処理
//=====================================================================
LPDIRECT3DTEXTURE9* GetLoadedTexture(void)
{
	return &g_apTexture[0];
}

//========================s=============================================
// 読み込んだテクスチャの解放処理
//=====================================================================
void ReleaseLoadedTexture(void)
{
	for (int nCountTex = 0; nCountTex < MAX_LOADABLE_MODEL; nCountTex)
	{
		RELEASE(g_apTexture[nCountTex]);
	}
}